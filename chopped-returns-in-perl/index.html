<!DOCTYPE html> <html lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Chopped Returns (In Perl) &middot; Going The Wong Way </title> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/syntax.css"> <link rel="stylesheet" href="/public/css/lanyon.css"> <link rel="stylesheet" href="/public/css/gallery.css"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"> <link rel="shortcut icon" href="/favicon.ico"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <script>var _gaq=[["_setAccount",""],["_trackPageview"]],disqus_shortname="goingthewongway",disqus_identifier="http://www.goingthewongway.com/chopped-returns-in-perl/",sc_project=2375202,sc_invisible=1,sc_security="1b55b1d6";function a(e){var g=document,f=g.createElement("script");f.async=true;f.src=e;g.getElementsByTagName("head")[0].appendChild(f);}a("//www.google-analytics.com/ga.js");</script> </head> <body class=""> <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"> <div class="sidebar" id="sidebar"> <div class="sidebar-item"> <p>Derek Wong's blog. A combination of images and thoughts from a software engineer in southern California. </p> </div> <nav class="sidebar-nav"> <a class="sidebar-nav-item" href="/">Home</a> <a class="sidebar-nav-item" href="https://feedburner.google.com/fb/a/mailverify?uri=GoingTheWongWay&amp;loc=en_US">Subscribe via e-mail</a> <a class="sidebar-nav-item" href="/about/">About</a> <a class="sidebar-nav-item" href="/favorite-posts/">My Favorite Posts</a> </nav> <div class="sidebar-item"> <p> &copy; 2007 - 2016. All rights reserved. </p> </div> </div> <div class="wrap"> <div class="masthead"> <div class="container"> <h3 class="masthead-title"> <a href="/" title="Home">Going The Wong Way</a> <small>I'm ALWAYS going the Wong way</small> </h3> </div> </div> <div class="content"> <div class="container"> <div class="post"> <h1 class="post-title">Chopped Returns (In Perl)</h1> <span class="post-date">May 16</span> <p>Files on computers are made up of different characters that are interpreted by whatever it is that you are using. That means that no matter what file it is, it is essentially a string of bytes that are interpreted by the program opening it. This means that your music program tries to interpret whatever file you open with it to be conformed to some audio standards (mp3, wma, etc.). Try to open the same file in a text editor, and you’ll find yourself looking at (apparently) junk characters. But then you’ll realize that the file is still just a bunch of characters.</p> <p>I bring this up because</p> <ol> <li> <p>It seems as if people don’t realize this.</p> </li> <li> <p>I encountered this while writing a Perl script today.</p> </li> </ol> <p>Something else that you should read even if you don’t know what Perl is: Windows and Unix-variants (including Mac OS X and up) do not handle files the same. I’m not talking about <a href="http://www.goingthewongway.com/2007/01/28/fanaticism/">Fanaticism</a> (because I’ve already posted about that). Windows uses characters that are referred to as the <a href="http://en.wikipedia.org/wiki/Carriage_return">Carriage Return</a> and <a href="http://en.wikipedia.org/wiki/Line_feed">Line Feed</a> in order to represent a newline. These names originate because of their original use in the typewriter which actually had a physical mechanism to move. In any case, Unix-variants utilize the line feed character to distinguish its newlines. This can obviously lead to some problems if you use the same files on both systems.</p> <p><strong>If you don’t know what Perl is then you can fairly safely stop reading this article now because the rest won’t help you much.</strong> I know that it was hard for me to find and I’d like to make it available if anyone else so happens to run into the same problem.</p> <p>While writing a script in Perl today, I had a seemingly strange problem where I would do some processing on my Windows machine and then transfer the file via FTP to a Unix-based server. However I noticed that I had a string that when printed to the screen on my Windows computer would display correctly but would display incorrectly in the file put onto the server. I could not figure this out for quite sometime because it seemed as if some of the lines were printing correctly and some were not. Alright enough explanation. Essentially I thought that the last character was getting chopped off in some way that I did not understand in Perl. However it had to do with Perl assuming that the lines has both a carriage return and a line feed on the lines and then chopping them off when the file was being sent via FTP. The fix that I ended up using was simply a one line regular expression like so (a suggestion from a co-worker):</p> <p><code class="highlighter-rouge">$output=</code>some action<code class="highlighter-rouge">; $output=~ s/n/rn/g; print $output; print FOUT $output;</code></p> <p>Hope that this helps someone searching for an answer. I know that I would have liked to have happened upon the answer while searching for it.</p> </div> <section> <h1>Comments</h1> <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </section> <div class="related"> <h2>Related Posts</h2> <ul class="related-posts"> <li> <h3> <a href="/the-bear-was-that-baby-on-the-plane/"> The Bear Was THAT Baby On The Plane <small>Apr 12</small> </a> </h3> </li> <li> <h3> <a href="/sickness-strikes-again/"> Sickness Strikes Again <small>Feb 19</small> </a> </h3> </li> <li> <h3> <a href="/the-sickness-is-strong-in-this-one/"> The Sickness Is Strong In This One <small>Jan 29</small> </a> </h3> </li> </ul> </div> </div> </div> </div> <label for="sidebar-checkbox" class="sidebar-toggle"></label> <script>(function(b){var a=b.querySelector(".sidebar-toggle");var d=b.querySelector("#sidebar");var c=b.querySelector("#sidebar-checkbox");b.addEventListener("click",function(g){var f=g.target;if(!c.checked||d.contains(f)||(f===c||f===a)){return;}c.checked=false;},false);})(document);</script> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/galleria/1.3.5/galleria.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.colorbox/1.4.33/jquery.colorbox-min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.wookmark/2.1.1/wookmark.min.js"></script> <script type="text/javascript">jQuery(document).ready(function(){if(jQuery(".galleria")[0]){jQuery(".galleria,.galleria_container").css("height",600);Galleria.loadTheme("//cdnjs.cloudflare.com/ajax/libs/galleria/1.3.5/themes/classic/galleria.classic.min.js");Galleria.run(".galleria",{lightbox:true,showInfo:true});}});(function(){var a=document.getElementById("wookmark");if(a!=null){var c=new Wookmark("#tiles");var b=jQuery("#tiles li");jQuery("a",b).addClass("gal").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"90%"});}})();</script> <script src="//goingthewongway.disqus.com/embed.js" async></script> <script>a("http://www.statcounter.com/counter/counter.js");</script><noscript><div class="statcounter"><img class="statcounter" src="http://c.statcounter.com/2375202/0/1b55b1d6/1/" alt="hit"/></div></noscript> </body> </html>